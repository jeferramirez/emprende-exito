<div
  class="container-fluid animate__animated animate__fadeInUp animate__faster"
>
  <div class="row">
    <div class="col-lg-12 col-md-12 s">
      <div class="card">
        <div class="card-header card-header-info">
          <div class="row">
            <div class="col-lg-6 col-md-6 s">
              <h4 class="card-title">Usuarios</h4>
              <p class="card-category">Listado de usuarios</p>
            </div>
            <div class="col-lg-6 col-md-6 s text-right align-self-center">
              <a
                title="Agregar usuario"
                routerLink="../creacion-usuario"
                class="btn btn-primary btn-fab btn-fab-mini btn-round"
              >
                <i class="material-icons">person_add</i>
              </a>
            </div>
          </div>
        </div>
        <div class="card-body table-responsive">
          <mat-form-field>
            <mat-label>Filtrar</mat-label>
            <input
              matInput
              (keydown)="applyFilter($event)"
              placeholder="Busqueda..."
              #input
            />
          </mat-form-field>

          <div class="table-users mat-elevation-z8">
            <table mat-table [dataSource]="dataSource" matSort>
              <ng-container matColumnDef="nick">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Nick</th>
                <td (click)="navigateUser(row)" mat-cell *matCellDef="let row">{{ row.username }}</td>
              </ng-container>

              <ng-container matColumnDef="nombre">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Nombre
                </th>
                <td (click)="navigateUser(row)" mat-cell *matCellDef="let row">{{ row.nombre }}</td>
              </ng-container>

              <ng-container matColumnDef="apellido">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Apellido
                </th>
                <td (click)="navigateUser(row)" mat-cell *matCellDef="let row">{{ row.apellido }}</td>
              </ng-container>

              <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
                <td (click)="navigateUser(row)" mat-cell *matCellDef="let row">{{ row.email }}</td>
              </ng-container>

              <ng-container matColumnDef="celular">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Celular
                </th>
                <td (click)="navigateUser(row)" mat-cell *matCellDef="let row">{{ row.celular }}</td>
              </ng-container>

              <ng-container matColumnDef="rol">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Rol</th>
                <td (click)="navigateUser(row)" mat-cell *matCellDef="let row">{{ row.rol }}</td>
              </ng-container>

              <ng-container matColumnDef="estado">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Estado
                </th>
                <td (click)="navigateUser(row)" mat-cell *matCellDef="let row">
                  {{ row.estado ? "Activo" : "Inactivo" }}
                </td>
              </ng-container>

              <ng-container matColumnDef="fecCreacion">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Fecha de creación
                </th>
                <td (click)="navigateUser(row)" mat-cell *matCellDef="let row">{{ row.created_at }}</td>
              </ng-container>

              <ng-container matColumnDef="acciones">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  mat-sort-header
                  class="text-center"
                >
                  Acciones
                </th>
                <td  mat-cell *matCellDef="let row" class="text-center">
                  <button
                    type="button"
                    title="Editar usuario"
                    (click)="navigateUser(row)"
                    class="btn btn-warning btn-fab btn-fab-mini btn-round"
                  >
                    <i class="material-icons">edit</i>
                  </button>
                  <button
                    type="button"
                    rel="tooltip"
                    (click)="deleteUser(row.id)"
                    title="Eliminar usuario"
                    class="btn btn-danger btn-fab btn-fab-mini"
                  >
                    <i class="material-icons">close</i>
                  </button>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr
                mat-row
                *matRowDef="let row; columns: displayedColumns"
              ></tr>
            </table>
          </div>
          <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal -->
  <div
    class="modal fade"
    id="modalUserUpdate"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title font-weight-bold" id="modal">
            Actualización de usuario
          </h4>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label class="bmd-label-floating">Usuario</label>
                  <input
                    type="text"
                    class="form-control"
                    id="txtUsuario"
                    name="txtUsuario"
                  />
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label class="bmd-label-floating">Nombre</label>
                  <input
                    type="text"
                    class="form-control"
                    id="txtNombre"
                    name="txtNombre"
                  />
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label class="bmd-label-floating">Apellidos</label>
                  <input
                    type="text"
                    class="form-control"
                    id="txtApellidos"
                    name="txtApellidos"
                  />
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label class="bmd-label-floating">Fecha de nacimiento</label>
                  <input
                    type="date"
                    class="form-control"
                    id="dtFecNac"
                    name="dtFecNac"
                  />
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label for="sexo">Sexo</label>
                  <select
                    class="form-control selectpicker"
                    data-style="btn btn-link"
                    id="sexo"
                  >
                    <option>Masculino</option>
                    <option>Femenino</option>
                  </select>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label
                    class="bmd-label-floating"
                    id="txtEmail"
                    name="txtEmail"
                    >Email</label
                  >
                  <input type="email" class="form-control" />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label
                    class="bmd-label-floating"
                    id="txtTelefono"
                    name="txtTelefono"
                    >Telefono</label
                  >
                  <input type="text" class="form-control" />
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label
                    class="bmd-label-floating"
                    id="txtCelular"
                    name="txtCelular"
                    >Celular</label
                  >
                  <input type="text" class="form-control" />
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label for="ciudades">Ciudad</label>
                  <select
                    class="form-control selectpicker"
                    data-style="btn btn-link"
                    id="ciudades"
                  >
                    <option>Bogotá</option>
                    <option>Medellín</option>
                    <option>Cali</option>
                    <option>Barranquilla</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label for="paises">Pais</label>
                  <select
                    class="form-control selectpicker"
                    data-style="btn btn-link"
                    id="paises"
                  >
                    <option value="1 ">Colombia</option>
                  </select>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label for="rol">Rol</label>
                  <select
                    class="form-control selectpicker"
                    data-style="btn btn-link"
                    id="rol"
                  >
                    <option>x</option>
                    <option>y</option>
                    <option>z</option>
                  </select>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Cerrar
          </button>
          <button type="button" class="btn btn-primary">Guardar cambios</button>
        </div>
      </div>
    </div>
  </div>
</div>
